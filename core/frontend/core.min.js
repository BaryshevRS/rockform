!function(t,e,a){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||a)}(function(t){"use strict";var e=function(e,a,n){var r={invalid:[],getCaret:function(){try{var t,a=0,n=e.get(0),o=document.selection,i=n.selectionStart;return o&&navigator.appVersion.indexOf("MSIE 10")===-1?(t=o.createRange(),t.moveStart("character",-r.val().length),a=t.text.length):(i||"0"===i)&&(a=i),a}catch(s){}},setCaret:function(t){try{if(e.is(":focus")){var a,n=e.get(0);n.setSelectionRange?n.setSelectionRange(t,t):(a=n.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select())}}catch(r){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",r.getCaret()),r.maskDigitPosMapOld=r.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",r.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){s===r.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){s=r.val()}).on("focus.mask",function(e){n.selectOnFocus===!0&&t(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!o.test(r.val())&&r.val("")})},getRegexMask:function(){for(var t,e,n,r,o,s,l=[],c=0;c<a.length;c++)t=i.translation[a.charAt(c)],t?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,r=t.recursive,r?(l.push(a.charAt(c)),o={digit:a.charAt(c),pattern:e}):l.push(n||r?e+"?":e)):l.push(a.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=l.join(""),o&&(s=s.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(s)},destroyEvents:function(){e.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a,n=e.is("input"),r=n?"val":"text";return arguments.length>0?(e[r]()!==t&&e[r](t),a=e):a=e[r](),a},calculateCaretPosition:function(){var t=e.data("mask-previus-value")||"",a=r.getMasked(),n=r.getCaret();if(t!==a){var o=e.data("mask-previus-caret-pos")||0,i=a.length,s=t.length,l=0,c=0,u=0,f=0,d=0;for(d=n;d<i&&r.maskDigitPosMap[d];d++)c++;for(d=n-1;d>=0&&r.maskDigitPosMap[d];d--)l++;for(d=n-1;d>=0;d--)r.maskDigitPosMap[d]&&u++;for(d=o-1;d>=0;d--)r.maskDigitPosMapOld[d]&&f++;if(n>s)n=10*i;else if(o>=n&&o!==s){if(!r.maskDigitPosMapOld[n]){var p=n;n-=f-u,n-=l,r.maskDigitPosMap[n]&&(n=p)}}else n>o&&(n+=u-f,n+=c)}return n},behaviour:function(a){a=a||window.event,r.invalid=[];var n=e.data("mask-keycode");if(t.inArray(n,i.byPassKeys)===-1){var o=r.getMasked(),s=r.getCaret();return setTimeout(function(){r.setCaret(r.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),r.val(o),r.setCaret(s),r.callbacks(a)}},getMasked:function(t,e){var o,s,l=[],c=void 0===e?r.val():e+"",u=0,f=a.length,d=0,p=c.length,m=1,h="push",v=-1,g=0,b=[];n.reverse?(h="unshift",m=-1,o=0,u=f-1,d=p-1,s=function(){return u>-1&&d>-1}):(o=f-1,s=function(){return u<f&&d<p});for(var y;s();){var x=a.charAt(u),k=c.charAt(d),w=i.translation[x];w?(k.match(w.pattern)?(l[h](k),w.recursive&&(v===-1?v=u:u===o&&u!==v&&(u=v-m),o===v&&(u-=m)),u+=m):k===y?(g--,y=void 0):w.optional?(u+=m,d-=m):w.fallback?(l[h](w.fallback),u+=m,d-=m):r.invalid.push({p:d,v:k,e:w.pattern}),d+=m):(t||l[h](x),k===x?(b.push(d),d+=m):(y=x,b.push(d+g),g++),u+=m)}var j=a.charAt(o);f!==p+1||i.translation[j]||l.push(j);var _=l.join("");return r.mapMaskdigitPositions(_,b,p),_},mapMaskdigitPositions:function(t,e,a){var o=n.reverse?t.length-a:0;r.maskDigitPosMap={};for(var i=0;i<e.length;i++)r.maskDigitPosMap[e[i]+o]=1},callbacks:function(t){var o=r.val(),i=o!==s,l=[o,t,e,n],c=function(t,e,a){"function"==typeof n[t]&&e&&n[t].apply(this,a)};c("onChange",i===!0,l),c("onKeyPress",i===!0,l),c("onComplete",o.length===a.length,l),c("onInvalid",r.invalid.length>0,[o,t,e,r.invalid,n])}};e=t(e);var o,i=this,s=r.val();a="function"==typeof a?a(r.val(),void 0,e,n):a,i.mask=a,i.options=n,i.remove=function(){var t=r.getCaret();return i.options.placeholder&&e.removeAttr("placeholder"),e.data("mask-maxlength")&&e.removeAttr("maxlength"),r.destroyEvents(),r.val(i.getCleanVal()),r.setCaret(t),e},i.getCleanVal=function(){return r.getMasked(!0)},i.getMaskedVal=function(t){return r.getMasked(!1,t)},i.init=function(s){if(s=s||!1,n=n||{},i.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,i.byPassKeys=t.jMaskGlobals.byPassKeys,i.translation=t.extend({},t.jMaskGlobals.translation,n.translation),i=t.extend(!0,{},i,n),o=r.getRegexMask(),s)r.events(),r.val(r.getMasked());else{n.placeholder&&e.attr("placeholder",n.placeholder),e.data("mask")&&e.attr("autocomplete","off");for(var l=0,c=!0;l<a.length;l++){var u=i.translation[a.charAt(l)];if(u&&u.recursive){c=!1;break}}c&&e.attr("maxlength",a.length).data("mask-maxlength",!0),r.destroyEvents(),r.events();var f=r.getCaret();r.val(r.getMasked()),r.setCaret(f)}},i.init(!e.is("input"))};t.maskWatchers={};var a=function(){var a=t(this),r={},o="data-mask-",i=a.attr("data-mask");if(a.attr(o+"reverse")&&(r.reverse=!0),a.attr(o+"clearifnotmatch")&&(r.clearIfNotMatch=!0),"true"===a.attr(o+"selectonfocus")&&(r.selectOnFocus=!0),n(a,i,r))return a.data("mask",new e(this,i,r))},n=function(e,a,n){n=n||{};var r=t(e).data("mask"),o=JSON.stringify,i=t(e).val()||t(e).text();try{return"function"==typeof a&&(a=a(i)),"object"!=typeof r||o(r.options)!==o(n)||r.mask!==a}catch(s){}},r=function(t){var e,a=document.createElement("div");return t="on"+t,e=t in a,e||(a.setAttribute(t,"return;"),e="function"==typeof a[t]),a=null,e};t.fn.mask=function(a,r){r=r||{};var o=this.selector,i=t.jMaskGlobals,s=i.watchInterval,l=r.watchInputs||i.watchInputs,c=function(){if(n(this,a,r))return t(this).data("mask",new e(this,a,r))};return t(this).each(c),o&&""!==o&&l&&(clearInterval(t.maskWatchers[o]),t.maskWatchers[o]=setInterval(function(){t(document).find(o).each(c)},s)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){e=e||t.jMaskGlobals.maskElements;var n=e instanceof t?e:t(e);n.filter(t.jMaskGlobals.dataMaskAttr).each(a)};var o={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&r("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},o=t.jMaskGlobals=t.extend(!0,{},o,t.jMaskGlobals),o.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},o.watchInterval)},window.jQuery,window.Zepto),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,a){return"undefined"==typeof a&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(a),a}:t(jQuery)}(function(t){"use strict";function e(e){var a=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).closest("form").ajaxSubmit(a))}function a(e){var a=e.target,n=t(a);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;a=r[0]}var o=a.form;if(o.clk=a,"image"===a.type)if("undefined"!=typeof e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var i=n.offset();o.clk_x=e.pageX-i.left,o.clk_y=e.pageY-i.top}else o.clk_x=e.pageX-a.offsetLeft,o.clk_y=e.pageY-a.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r=/\r?\n/g,o={};o.fileapi=void 0!==t('<input type="file">').get(0).files,o.formdata="undefined"!=typeof window.FormData;var i=!!t.fn.prop;t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e,a,r,s){function l(a){var n,r,o=t.param(a,e.traditional).split("&"),i=o.length,s=[];for(n=0;n<i;n++)o[n]=o[n].replace(/\+/g," "),r=o[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function c(a){for(var n=new FormData,r=0;r<a.length;r++)n.append(a[r].name,a[r].value);if(e.extraData){var o=l(e.extraData);for(r=0;r<o.length;r++)o[r]&&n.append(o[r][0],o[r][1])}e.data=null;var i=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:f||"POST"});e.uploadProgress&&(i.xhr=function(){var a=t.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(t){var a=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(a=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,a)},!1),a}),i.data=null;var s=i.beforeSend;return i.beforeSend=function(t,a){e.formData?a.data=e.formData:a.data=n,s&&s.call(this,t,a)},t.ajax(i)}function u(a){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(a){n("cannot get iframe.contentWindow document: "+a)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(a){n("cannot get iframe.contentDocument: "+a),e=t.document}return e}function o(){function e(){try{var t=r(v).readyState;n("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(a){n("Server abort: ",a," (",a.name,")"),s(D),w&&clearTimeout(w),w=void 0}}var a=m.attr2("target"),o=m.attr2("action"),i="multipart/form-data",l=m.attr("enctype")||m.attr("encoding")||i;j.setAttribute("target",p),f&&!/post/i.test(f)||j.setAttribute("method","POST"),o!==u.url&&j.setAttribute("action",u.url),u.skipEncodingOverride||f&&!/post/i.test(f)||m.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(w=setTimeout(function(){k=!0,s(S)},u.timeout));var c=[];try{if(u.extraData)for(var d in u.extraData)u.extraData.hasOwnProperty(d)&&(t.isPlainObject(u.extraData[d])&&u.extraData[d].hasOwnProperty("name")&&u.extraData[d].hasOwnProperty("value")?c.push(t('<input type="hidden" name="'+u.extraData[d].name+'">',M).val(u.extraData[d].value).appendTo(j)[0]):c.push(t('<input type="hidden" name="'+d+'">',M).val(u.extraData[d]).appendTo(j)[0]));u.iframeTarget||h.appendTo(T),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(e,15);try{j.submit()}catch(g){var b=document.createElement("form").submit;b.apply(j)}}finally{j.setAttribute("action",o),j.setAttribute("enctype",l),a?j.setAttribute("target",a):m.removeAttr("target"),t(c).remove()}}function s(e){if(!g.aborted&&!q){if(I=r(v),I||(n("cannot access response document"),e=D),e===S&&g)return g.abort("timeout"),void _.reject(g,"timeout");if(e===D&&g)return g.abort("server abort"),void _.reject(g,"error","server abort");if(I&&I.location.href!==u.iframeSrc||k){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var a,o="success";try{if(k)throw"timeout";var i="xml"===u.dataType||I.XMLDocument||t.isXMLDoc(I);if(n("isXml="+i),!i&&window.opera&&(null===I.body||!I.body.innerHTML)&&--O)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=I.body?I.body:I.documentElement;g.responseText=l?l.innerHTML:null,g.responseXML=I.XMLDocument?I.XMLDocument:I,i&&(u.dataType="xml"),g.getResponseHeader=function(t){var e={"content-type":u.dataType};return e[t.toLowerCase()]},l&&(g.status=Number(l.getAttribute("status"))||g.status,g.statusText=l.getAttribute("statusText")||g.statusText);var c=(u.dataType||"").toLowerCase(),f=/(json|script|text)/.test(c);if(f||u.textarea){var p=I.getElementsByTagName("textarea")[0];if(p)g.responseText=p.value,g.status=Number(p.getAttribute("status"))||g.status,g.statusText=p.getAttribute("statusText")||g.statusText;else if(f){var m=I.getElementsByTagName("pre")[0],b=I.getElementsByTagName("body")[0];m?g.responseText=m.textContent?m.textContent:m.innerText:b&&(g.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"===c&&!g.responseXML&&g.responseText&&(g.responseXML=P(g.responseText));try{E=L(g,c,u)}catch(y){o="parsererror",g.error=a=y||o}}catch(y){n("error caught: ",y),o="error",g.error=a=y||o}g.aborted&&(n("upload aborted"),o=null),g.status&&(o=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===o?(u.success&&u.success.call(u.context,E,"success",g),_.resolve(g.responseText,"success",g),d&&t.event.trigger("ajaxSuccess",[g,u])):o&&("undefined"==typeof a&&(a=g.statusText),u.error&&u.error.call(u.context,g,o,a),_.reject(g,"error",a),d&&t.event.trigger("ajaxError",[g,u,a])),d&&t.event.trigger("ajaxComplete",[g,u]),d&&!--t.active&&t.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,g,o),q=!0,u.timeout&&clearTimeout(w),setTimeout(function(){u.iframeTarget?h.attr("src",u.iframeSrc):h.remove(),g.responseXML=null},100)}}}var l,c,u,d,p,h,v,g,y,x,k,w,j=m[0],_=t.Deferred();if(_.abort=function(t){g.abort(t)},a)for(c=0;c<b.length;c++)l=t(b[c]),i?l.prop("disabled",!1):l.removeAttr("disabled");u=t.extend(!0,{},t.ajaxSettings,e),u.context=u.context||u,p="jqFormIO"+(new Date).getTime();var M=j.ownerDocument,T=m.closest("body");if(u.iframeTarget?(h=t(u.iframeTarget,M),x=h.attr2("name"),x?p=x:h.attr2("name",p)):(h=t('<iframe name="'+p+'" src="'+u.iframeSrc+'" />',M),h.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=h[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var a="timeout"===e?"timeout":"aborted";n("aborting upload... "+a),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(r){}h.attr("src",u.iframeSrc),g.error=a,u.error&&u.error.call(u.context,g,a,e),d&&t.event.trigger("ajaxError",[g,u,a]),u.complete&&u.complete.call(u.context,g,a)}},d=u.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[g,u]),u.beforeSend&&u.beforeSend.call(u.context,g,u)===!1)return u.global&&t.active--,_.reject(),_;if(g.aborted)return _.reject(),_;y=j.clk,y&&(x=y.name,x&&!y.disabled&&(u.extraData=u.extraData||{},u.extraData[x]=y.value,"image"===y.type&&(u.extraData[x+".x"]=j.clk_x,u.extraData[x+".y"]=j.clk_y)));var S=1,D=2,A=t("meta[name=csrf-token]").attr("content"),C=t("meta[name=csrf-param]").attr("content");C&&A&&(u.extraData=u.extraData||{},u.extraData[C]=A),u.forceSync?o():setTimeout(o,10);var E,I,q,O=50,P=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!==e.documentElement.nodeName?e:null},F=t.parseJSON||function(t){return window.eval("("+t+")")},L=function(e,a,n){var r=e.getResponseHeader("content-type")||"",o=("xml"===a||!a)&&r.indexOf("xml")>=0,i=o?e.responseXML:e.responseText;return o&&"parsererror"===i.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(i=n.dataFilter(i,a)),"string"==typeof i&&(("json"===a||!a)&&r.indexOf("json")>=0?i=F(i):("script"===a||!a)&&r.indexOf("javascript")>=0&&t.globalEval(i)),i};return _}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var f,d,p,m=this;"function"==typeof e?e={success:e}:"string"==typeof e||e===!1&&arguments.length>0?(e={url:e,data:a,dataType:r},"function"==typeof s&&(e.success=s)):"undefined"==typeof e&&(e={}),f=e.method||e.type||this.attr2("method"),d=e.url||this.attr2("action"),p="string"==typeof d?t.trim(d):"",p=p||window.location.href||"",p&&(p=(p.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:p,success:t.ajaxSettings.success,type:f||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var v=e.traditional;"undefined"==typeof v&&(v=t.ajaxSettings.traditional);var g,b=[],y=this.formToArray(e.semantic,b,e.filtering);if(e.data){var x=t.isFunction(e.data)?e.data(y):e.data;e.extraData=x,g=t.param(x,v)}if(e.beforeSubmit&&e.beforeSubmit(y,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[y,this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var k=t.param(y,v);g&&(k=k?k+"&"+g:g),"GET"===e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+k,e.data=null):e.data=k;var w=[];if(e.resetForm&&w.push(function(){m.resetForm()}),e.clearForm&&w.push(function(){m.clearForm(e.includeHidden)}),!e.dataType&&e.target){var j=e.success||function(){};w.push(function(a,n,r){var o=arguments,i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](a).each(function(){j.apply(this,o)})})}else e.success&&(t.isArray(e.success)?t.merge(w,e.success):w.push(e.success));if(e.success=function(t,a,n){for(var r=e.context||this,o=0,i=w.length;o<i;o++)w[o].apply(r,[t,a,n||m,m])},e.error){var _=e.error;e.error=function(t,a,n){var r=e.context||this;_.apply(r,[t,a,n,m])}}if(e.complete){var M=e.complete;e.complete=function(t,a){var n=e.context||this;M.apply(n,[t,a,m])}}var T=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),S=T.length>0,D="multipart/form-data",A=m.attr("enctype")===D||m.attr("encoding")===D,C=o.fileapi&&o.formdata;n("fileAPI :"+C);var E,I=(S||A)&&!C;e.iframe!==!1&&(e.iframe||I)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){E=u(y)}):E=u(y):E=(S||A)&&C?c(y):t.ajax(e),m.removeData("jqxhr").data("jqxhr",E);for(var q=0;q<b.length;q++)b[q]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r,o,i,s){if(("string"==typeof r||r===!1&&arguments.length>0)&&(r={url:r,data:o,dataType:i},"function"==typeof s&&(r.success=s)),r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var l={s:this.selector,c:this.context};return!t.isReady&&l.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(l.s,l.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,a),this):this.ajaxFormUnbind().on("submit.form-plugin",r,e).on("click.form-plugin",r,a)},t.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,a,n){var r=[];if(0===this.length)return r;var i,s=this[0],l=this.attr("id"),c=e||"undefined"==typeof s.elements?s.getElementsByTagName("*"):s.elements;if(c&&(c=t.makeArray(c)),l&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(i=t(':input[form="'+l+'"]').get(),i.length&&(c=(c||[]).concat(i))),!c||!c.length)return r;t.isFunction(n)&&(c=t.map(c,n));var u,f,d,p,m,h,v;for(u=0,h=c.length;u<h;u++)if(m=c[u],d=m.name,d&&!m.disabled)if(e&&s.clk&&"image"===m.type)s.clk===m&&(r.push({name:d,value:t(m).val(),type:m.type}),r.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}));else if(p=t.fieldValue(m,!0),p&&p.constructor===Array)for(a&&a.push(m),f=0,v=p.length;f<v;f++)r.push({name:d,value:p[f]});else if(o.fileapi&&"file"===m.type){a&&a.push(m);var g=m.files;if(g.length)for(f=0;f<g.length;f++)r.push({name:d,value:g[f],type:m.type});else r.push({name:d,value:"",type:m.type})}else null!==p&&"undefined"!=typeof p&&(a&&a.push(m),r.push({name:d,value:p,type:m.type,required:m.required}));if(!e&&s.clk){var b=t(s.clk),y=b[0];d=y.name,d&&!y.disabled&&"image"===y.type&&(r.push({name:d,value:b.val()}),r.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}))}return r},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var a=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor===Array)for(var o=0,i=r.length;o<i;o++)a.push({name:n,value:r[o]});else null!==r&&"undefined"!=typeof r&&a.push({name:this.name,value:r})}}),t.param(a)},t.fn.fieldValue=function(e){for(var a=[],n=0,r=this.length;n<r;n++){var o=this[n],i=t.fieldValue(o,e);null===i||"undefined"==typeof i||i.constructor===Array&&!i.length||(i.constructor===Array?t.merge(a,i):a.push(i))}return a},t.fieldValue=function(e,a){var n=e.name,o=e.type,i=e.tagName.toLowerCase();if("undefined"==typeof a&&(a=!0),a&&(!n||e.disabled||"reset"===o||"button"===o||("checkbox"===o||"radio"===o)&&!e.checked||("submit"===o||"image"===o)&&e.form&&e.form.clk!==e||"select"===i&&e.selectedIndex===-1))return null;if("select"===i){var s=e.selectedIndex;if(s<0)return null;for(var l=[],c=e.options,u="select-one"===o,f=u?s+1:c.length,d=u?s:0;d<f;d++){var p=c[d];if(p.selected&&!p.disabled){var m=p.value;if(m||(m=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),u)return m;l.push(m)}}return l}return t(e).val().replace(r,"\r\n")},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();a.test(n)||"textarea"===r?this.value="":"checkbox"===n||"radio"===n?this.checked=!1:"select"===r?this.selectedIndex=-1:"file"===n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){var e=t(this),a=this.tagName.toLowerCase();switch(a){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var n=e.parents("select");return n.length&&n[0].multiple?"option"===a?this.selected=this.defaultSelected:e.find("option").resetForm():n.resetForm(),!0;case"select":return e.find("option").each(function(t){if(this.selected=this.defaultSelected,this.defaultSelected&&!e[0].multiple)return e[0].selectedIndex=t,!1}),!0;case"label":var r=t(e.attr("for")),o=e.find("input,select,textarea");return r[0]&&o.unshift(r[0]),o.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return e.find("form,input,label,select,textarea").resetForm(),!0}})},t.fn.enable=function(t){return"undefined"==typeof t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return"undefined"==typeof e&&(e=!0),this.each(function(){var a=this.type;if("checkbox"===a||"radio"===a)this.checked=e;else if("option"===this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"===n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e={options:{},init:function(e,n){var r=this;t(document).off("click",e).on("click",e,n,function(e){e.preventDefault(),r.reset();var n=t(this);r.options=t.extend({},a,e.data);var o=r.options.before(n,e.data.params);t.ajax({url:r.options.path,data:o,method:r.options.method||"post",dataType:r.options.datatype||"html",beforeSend:function(e){t("body").append('<div class="bf-loading"></div>')},success:function(e){r.set_template(),r.set_close_event(),t(".bf-modal, .bf-fixed-overlay").css("opacity","0"),t(".bf-modal-box").html(e),t(".bf-loading").remove(),t(".bf-modal, .bf-fixed-overlay").animate({opacity:"1"},500),r.options.after(n,t(".bf-modal-box"),o)}})})},set_template:function(){var e=this;t('[data-rmodal="wrap"]').remove(),t("body").append(e.options.template)},set_close_event:function(){var e=this;t(document).on("click","[data-rmodal='reset']",function(){e.reset(),e.options.reset()}),t(document).on("click",".bf-modal",function(t){t.stopImmediatePropagation()})},reset:function(){t(".bf-fixed-overlay").remove()}},a={path:"",attributes:{},template:'<div data-rmodal="reset" data-rmodal="wrap"  class="bf-fixed-overlay bf-fixed-overlay__modal">                             <div class="bf-modal">                                 <div class="bf-modal_container">                                     <a href="javascript:;" data-rmodal="reset" class="bf-modal-reset" title=""></a>                                       <div class="bf-modal-box"></div>                                 </div>                             </div>                             <small class="bf-modal-after"></small>                         </div>',before:function(t,e){return e},after:function(t,e,a){},reset:function(t,e){}},n={init:function(t,arguments){return e.init(t,arguments)},reset:function(){e.reset()}};t.rmodal=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):e.length>0?n.init.apply(this,arguments):(t.error('Method "'+e+'" not find'),e)}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e={options:{},init:function(a,n){if(t(document).on("mouseover",".bf-tooltip",function(){t(this).remove()}),n.length>0)e.set({el:a,msg:n}),t(window).on("resize",{el:a,msg:n},e.set);else{var r=a.attr("name")||"";r&&t('[data-bf-tooltip-id="'+r+'"]').remove()}},set:function(a){var n,r;a.data?(n=a.data.el,r=a.data.msg):(n=a.el,r=a.msg);var o=n.attr("name")||n.attr("data-name")||"";if(o.length>0){n=t('[name="'+o+'"]:first',n.parents("form"));var i=n.attr("data-bf-tooltip")||n.parents("form").attr("data-bf-tooltip")||e.options.pos;t('[data-bf-tooltip-id="'+o+'"]').remove(),n.after('<span class="bf-tooltip bf-tooltip-'+i+'" data-bf-tooltip-id="'+o+'">                          <span class="bf-arrow"></span>'+r+"</span>"),e.position(n,i)}},reset:function(){t(window).off("resize",e.set),t(".bf-tooltip").remove()},response:function(e,a,n,r,o,i){var s=this;if(i.css("white-space","nowrap"),i.is('[class*="left"]'))e<=s.options.min_dist_border_window&&(i.css("white-space","normal"),e=s.options.min_dist_border_window,i.hasClass("bf-tooltip-left")&&i.removeClass("bf-tooltip-left").addClass("bf-tooltip-bottom-left"));else{var l=e+n+s.options.min_dist_border_window,c=t(window).outerWidth()-s.options.min_dist_border_window-n;l>t(window).outerWidth()&&(e=c,i.hasClass("bf-tooltip-right")&&i.removeClass("bf-tooltip-right").addClass("bf-tooltip-top-right")),c<=r.left&&(i.css("white-space","normal"),e=r.left)}return{top:a,left:e}},position:function(a,n){var r=this;if(a.length>0){var o=a.offset(),i=a.attr("name")||a.attr("data-name")||"",s=t('[data-bf-tooltip-id="'+i+'"]'),l=a.outerHeight(),c=a.outerWidth(),u=s.outerWidth(),f=s.outerHeight(),d=0,p=0;"top"===n?(d=o.top-f,p=o.left+c/2-u/2):"top-right"==n?(p=o.left+c/6*5,d=parseInt(o.top)-parseInt(f)-r.options.dist_from_item):"top-center"===n?(d=o.top-f,p=o.left+c/2):"top-left"===n?(d=parseInt(o.top)-parseInt(f)-r.options.dist_from_item,p=o.left+c/6-u):"bottom"===n?(d=o.top+l,p=o.left+c/2-u/2):"bottom-left"===n?(d=o.top+l,p=o.left+c/6-u):"bottom-center"===n?(d=o.top+l,p=o.left+c/2):"bottom-right"===n?(d=o.top+l,p=o.left+c/6*5):"left"===n?(d=o.top+l/2-f/2,p=o.left-u):"right"===n&&(d=o.top+l/2-f/2,p=o.left+c),s.offset(e.response(p,d,u,o,c,s))}}},a={min_dist_border_window:20,dist_from_item:5,pos:"top-right"},n={init:function(n){var r=t.extend({},a,n);return e.options=r,this.each(function(){if(void 0!==n){var a=n.msg||"";a.length>0&&e.init(t(this),a)}})},reset:function(){e.reset()}};t.fn.rtooltip=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" not find'):n.init.apply(this,arguments)}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.form.min","jquery.mask.min","jquery.rtooltip","jquery.rmodal"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=window.baseform||{};e=function(){function e(e,a){var n=this,e=e||"",a=a||{};n.defaults={config:"",path:"/rockform/init.php",timer:2e3,fields:{},submit_selector:'[type="submit"], [type="image"], [type="button"]',before_send_form:function(t){},after_send_form:function(t){},before_show_modal:function(){},after_show_modal:function(){},close_modal:function(){}},n.options=t.extend({},n.defaults,a),n.init(e,a)}return e}(),e.prototype.fileupload=function(e){t(document).on("change",".bf-input-file",function(e){var a=t(this),n=a.next("label"),r=n.html(),o="";this.files&&this.files.length>1?o=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(o=e.target.value.split("\\").pop()),o?n.find("span").html(o):n.html(r)})},e.prototype.capcha=function(e){var a=this,n=window.MutationObserver||window.WebKitMutationObserver||"";if(n.length>0){var n=window.MutationObserver||window.WebKitMutationObserver,r=function(e){e.map(function(e){var a=t(e.addedNodes);a.find("img[data-bf-capcha]").click()})},o=new n(r),i={childList:!0,subtree:!0};o.observe(document,i)}var s={init:function(){s.update(),t(document).off("click","img[data-bf-capcha]").on("click","img[data-bf-capcha]",function(){s.update()})},update:function(){t("img[data-bf-capcha]").attr("src",a.options.path+"?type=capcha&u="+Math.random())}};s.init()},e.prototype.mask_fields=function(e){var a="",n={},r={init:function(){t(document).on("focus","[data-bf-mask]",function(){r.set(t(this))}),t("[data-bf-mask]").each(function(){r.set(t(this))})},set:function(t){a=t.data("bf-mask"),n=t.attr("placeholder"),a.length>0&&(("undefined"==typeof n||n.length<1)&&(n=a.replace(/[a-z0-9]+?/gi,"_")),n={placeholder:n},t.mask(a,n))}};r.init()},e.prototype.validation=function(e,a){var n=this,r={init:function(e,a){var o,i;return valid=0,a=a||{},t(".bf-tooltip").rtooltip("reset"),a.mail_to?(t(n.options.submit_selector,e).rtooltip({msg:a.mail_to}),!1):a.filesize?(t(n.options.submit_selector,e).rtooltip({msg:a.filesize}),!1):(t.each(a,function(s,l){o="","token"==s?n.set_attr_form(e,"bf-token",a.token):"filesize"==s||(o=r.set_err_msg(l),i=t('[name="'+s+'"]',e),i.rtooltip({msg:o}),o.length>0&&(valid=1))}),!(parseInt(valid)>0))},set_err_msg:function(e){var a="";return e.required?a=e.required:e.rangelength?a=e.rangelength:e.minlength?a=e.minlength:e.maxlength?a=e.maxlength:t.each(e,function(t,e){if("required"!=t&&"rangelength"!=t&&"minlength"!=t&&"maxlength"!=t)return a=e,!1}),a}};return r.init(e,a)},e.prototype.set_attr_form=function(t,e,a){t.prepend('<input name="'+e+'" class="bf-attr" type="hidden" value="'+a+'" />')},e.prototype.init=function(e,a){var n=this,r={init:function(e,a){n.capcha(),n.mask_fields();var o="",i="",s="";e.length>0?(o=e,i="form"+e+',form[data-delegate="'+e+'"]'):i="form[data-bf]",r.set_form(i),s=e.length>0?e+":not(form)":"[data-bf]:not(form)";var l={config:n.options.config,timer:n.options.timer,fields:n.options.fields};t.rmodal(s,{path:n.options.path,params:l,before:function(e,a){t(".bf-tooltip").rtooltip("reset"),data=e.data("bf")||"","string"==typeof data&&data.length>0&&(data={config:data});var n=r.get_custom_fields(e);data.fields=data.fields||{},
data.fields=t.extend({},data.fields,n),a=t.extend({},a,data);var o={data:a.fields,"bf-config":a.config,timer:a.timer,config:a.config,type:"form"};return o},after:function(t,e,a){var n={};n.fields=a.data||{},n.timer=a.timer||{},n.config=a.config||{};var r=JSON.stringify(n);o.length>0?e.find("form").attr("data-delegate",o):e.find("form").attr("data-bf",r)}})},set_form:function(e,a){a=a||n.options,t(document).off("submit",e).on("submit",e,a,function(e){e.preventDefault();var a=t(this);t(".bf-tooltip").rtooltip("reset"),data=a.data("bf")||"","string"==typeof data&&data.length>0&&(data={config:data}),n.options=t.extend({},n.options,e.data,data);var o=a.formToArray(),i=[];t.each(o,function(t,e){"file"==e.type&&(o[t].size=e.value.size||"",o[t].value=e.value.name||"",i.push(o[t].size))}),t.post(n.options.path,{fields:o,type:"validation","bf-config":n.options.config,filesize:i},function(e){e=e||{},n.validation(a,e)&&(n.set_attr_form(a,"bf-config",n.options.config),t.each(n.options.fields,function(t,e){n.set_attr_form(a,"bf[fields]["+t+"]",e)}),a.ajaxSubmit({beforeSubmit:function(e,a,r){n.options.before_send_form(a),t(n.options.submit_selector,a).prop("disabled",!0)},url:n.options.path,type:"post",dataType:"json",success:r.show_response,error:function(t,e,a){alert("Server: "+e)}})),t(".bf-attr").remove()})})},get_custom_fields:function(e){var a={},n="";return e.length&&t.each(e[0].attributes,function(t,e){n=e.name,/data\-bf\-field/.test(n)&&(n=n.replace(/data\-bf\-field(\-|_)/,""),a[n]=e.value)}),a.page_h1=t("h1:first").text()||"",a.page_url=document.location.href,a},show_response:function(e,a,r,o){var i=t(n.options.submit_selector,o);i.prop("disabled",!1).removeAttr("disabled"),parseInt(e.status)>0?(n.options.after_send_form(o),t.post(n.options.path,{type:"form_success","bf-config":e["bf-config"]},function(e){o.hide(),o.after(e),setTimeout(function(){t.rmodal("reset")},n.options.timer),setTimeout(function(){o.show(),o.clearForm(),t("[data-bf-success]").remove()},n.options.timer+1e3)},"html")):i.rtooltip({msg:e.value})}};r.init(e,a)},t.bf=function(t){var a=this,n=arguments[1]||{};return new e(t,n),a},new e});