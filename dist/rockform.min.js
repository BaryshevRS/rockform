var $jscomp={scope:{},findInternal:function(t,e,a){t instanceof String&&(t=String(t));for(var n=t.length,r=0;r<n;r++){var o=t[r];if(e.call(a,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=a.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,a,n){if(e){for(a=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var r=t[n];r in a||(a[r]={}),a=a[r]}t=t[t.length-1],n=a[t],e=e(n),e!=n&&null!=e&&$jscomp.defineProperty(a,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t?t:function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6-impl","es3"),function(t,e,a){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||a)}(function(t){var e=function(e,a,n){var r={invalid:[],getCaret:function(){try{var t,a=0,n=e.get(0),o=document.selection,i=n.selectionStart;return o&&-1===navigator.appVersion.indexOf("MSIE 10")?(t=o.createRange(),t.moveStart("character",-r.val().length),a=t.text.length):(i||"0"===i)&&(a=i),a}catch(s){}},setCaret:function(t){try{if(e.is(":focus")){var a,n=e.get(0);n.setSelectionRange?n.setSelectionRange(t,t):(a=n.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select())}}catch(r){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",r.getCaret()),r.maskDigitPosMapOld=r.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",r.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){s===r.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){s=r.val()}).on("focus.mask",function(e){!0===n.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!o.test(r.val())&&r.val("")})},getRegexMask:function(){for(var t,e,n,r,o=[],s=0;s<a.length;s++)(t=i.translation[a.charAt(s)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(t=t.recursive)?(o.push(a.charAt(s)),r={digit:a.charAt(s),pattern:e}):o.push(n||t?e+"?":e)):o.push(a.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),r&&(o=o.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(o)},destroyEvents:function(){e.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var a=e.is("input")?"val":"text";return 0<arguments.length?(e[a]()!==t&&e[a](t),a=e):a=e[a](),a},calculateCaretPosition:function(){var t=e.data("mask-previus-value")||"",a=r.getMasked(),n=r.getCaret();if(t!==a){var o,i=e.data("mask-previus-caret-pos")||0,a=a.length,s=t.length,l=t=0,c=0,u=0;for(o=n;o<a&&r.maskDigitPosMap[o];o++)l++;for(o=n-1;0<=o&&r.maskDigitPosMap[o];o--)t++;for(o=n-1;0<=o;o--)r.maskDigitPosMap[o]&&c++;for(o=i-1;0<=o;o--)r.maskDigitPosMapOld[o]&&u++;n>s?n=10*a:i>=n&&i!==s?r.maskDigitPosMapOld[n]||(i=n,n=n-(u-c)-t,r.maskDigitPosMap[n]&&(n=i)):n>i&&(n=n+(c-u)+l)}return n},behaviour:function(a){a=a||window.event,r.invalid=[];var n=e.data("mask-keycode");if(-1===t.inArray(n,i.byPassKeys)){var n=r.getMasked(),o=r.getCaret();return setTimeout(function(){r.setCaret(r.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),r.val(n),r.setCaret(o),r.callbacks(a)}},getMasked:function(t,e){var o,s,l=[],c=void 0===e?r.val():e+"",u=0,f=a.length,d=0,p=c.length,m=1,h="push",v=-1,g=0,b=[];n.reverse?(h="unshift",m=-1,o=0,u=f-1,d=p-1,s=function(){return-1<u&&-1<d}):(o=f-1,s=function(){return u<f&&d<p});for(var y;s();){var x=a.charAt(u),k=c.charAt(d),w=i.translation[x];w?(k.match(w.pattern)?(l[h](k),w.recursive&&(-1===v?v=u:u===o&&u!==v&&(u=v-m),o===v&&(u-=m)),u+=m):k===y?(g--,y=void 0):w.optional?(u+=m,d-=m):w.fallback?(l[h](w.fallback),u+=m,d-=m):r.invalid.push({p:d,v:k,e:w.pattern}),d+=m):(t||l[h](x),k===x?(b.push(d),d+=m):(y=x,b.push(d+g),g++),u+=m)}return c=a.charAt(o),f!==p+1||i.translation[c]||l.push(c),l=l.join(""),r.mapMaskdigitPositions(l,b,p),l},mapMaskdigitPositions:function(t,e,a){for(t=n.reverse?t.length-a:0,r.maskDigitPosMap={},a=0;a<e.length;a++)r.maskDigitPosMap[e[a]+t]=1},callbacks:function(t){var o=r.val(),i=o!==s,l=[o,t,e,n],c=function(t,e,a){"function"==typeof n[t]&&e&&n[t].apply(this,a)};c("onChange",!0===i,l),c("onKeyPress",!0===i,l),c("onComplete",o.length===a.length,l),c("onInvalid",0<r.invalid.length,[o,t,e,r.invalid,n])}};e=t(e);var o,i=this,s=r.val();a="function"==typeof a?a(r.val(),void 0,e,n):a,i.mask=a,i.options=n,i.remove=function(){var t=r.getCaret();return i.options.placeholder&&e.removeAttr("placeholder"),e.data("mask-maxlength")&&e.removeAttr("maxlength"),r.destroyEvents(),r.val(i.getCleanVal()),r.setCaret(t),e},i.getCleanVal=function(){return r.getMasked(!0)},i.getMaskedVal=function(t){return r.getMasked(!1,t)},i.init=function(s){if(s=s||!1,n=n||{},i.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,i.byPassKeys=t.jMaskGlobals.byPassKeys,i.translation=t.extend({},t.jMaskGlobals.translation,n.translation),i=t.extend(!0,{},i,n),o=r.getRegexMask(),s)r.events(),r.val(r.getMasked());else{n.placeholder&&e.attr("placeholder",n.placeholder),e.data("mask")&&e.attr("autocomplete","off"),s=0;for(var l=!0;s<a.length;s++){var c=i.translation[a.charAt(s)];if(c&&c.recursive){l=!1;break}}l&&e.attr("maxlength",a.length).data("mask-maxlength",!0),r.destroyEvents(),r.events(),s=r.getCaret(),r.val(r.getMasked()),r.setCaret(s)}},i.init(!e.is("input"))};t.maskWatchers={};var a=function(){var a=t(this),r={},o=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(r.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(r.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(r.selectOnFocus=!0),n(a,o,r))return a.data("mask",new e(this,o,r))},n=function(e,a,n){n=n||{};var r=t(e).data("mask"),o=JSON.stringify;e=t(e).val()||t(e).text();try{return"function"==typeof a&&(a=a(e)),"object"!=typeof r||o(r.options)!==o(n)||r.mask!==a}catch(i){}},r=function(t){var e,a=document.createElement("div");return t="on"+t,e=t in a,e||(a.setAttribute(t,"return;"),e="function"==typeof a[t]),e};t.fn.mask=function(a,r){r=r||{};var o=this.selector,i=t.jMaskGlobals,s=i.watchInterval,i=r.watchInputs||i.watchInputs,l=function(){if(n(this,a,r))return t(this).data("mask",new e(this,a,r))};return t(this).each(l),o&&""!==o&&i&&(clearInterval(t.maskWatchers[o]),t.maskWatchers[o]=setInterval(function(){t(document).find(o).each(l)},s)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){e=e||t.jMaskGlobals.maskElements,(e instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(a)},r={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&r("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},r=t.jMaskGlobals=t.extend(!0,{},r,t.jMaskGlobals),r.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},r.watchInterval)},window.jQuery,window.Zepto),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,a){return void 0===a&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(a),a}:t(jQuery)}(function(t){"use strict";function e(e){var a=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).closest("form").ajaxSubmit(a))}function a(e){var a=e.target,n=t(a);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;a=r[0]}var o=a.form;if(o.clk=a,"image"===a.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var i=n.offset();o.clk_x=e.pageX-i.left,o.clk_y=e.pageY-i.top}else o.clk_x=e.pageX-a.offsetLeft,o.clk_y=e.pageY-a.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r=/\r?\n/g,o={};o.fileapi=void 0!==t('<input type="file">').get(0).files,o.formdata=void 0!==window.FormData;var i=!!t.fn.prop;t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e,a,r,s){function l(a){var n,r,o=t.param(a,e.traditional).split("&"),i=o.length,s=[];for(n=0;n<i;n++)o[n]=o[n].replace(/\+/g," "),r=o[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function c(a){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){n("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(a){n("cannot get iframe.contentDocument: "+a),e=t.document}return e}function o(){function t(){try{var e=r(v).readyState;n("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(e){n("Server abort: ",e," (",e.name,")"),s(D),w&&clearTimeout(w),w=void 0}}var e=p.attr2("target"),a=p.attr2("action"),o=p.attr("enctype")||p.attr("encoding")||"multipart/form-data";j.setAttribute("target",m),u&&!/post/i.test(u)||j.setAttribute("method","POST"),a!==f.url&&j.setAttribute("action",f.url),f.skipEncodingOverride||u&&!/post/i.test(u)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(w=setTimeout(function(){k=!0,s(S)},f.timeout));var i=[];try{if(f.extraData)for(var l in f.extraData)f.extraData.hasOwnProperty(l)&&(c.isPlainObject(f.extraData[l])&&f.extraData[l].hasOwnProperty("name")&&f.extraData[l].hasOwnProperty("value")?i.push(c('<input type="hidden" name="'+f.extraData[l].name+'">',M).val(f.extraData[l].value).appendTo(j)[0]):i.push(c('<input type="hidden" name="'+l+'">',M).val(f.extraData[l]).appendTo(j)[0]));f.iframeTarget||h.appendTo(T),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(t,15);try{j.submit()}catch(c){document.createElement("form").submit.apply(j)}}finally{j.setAttribute("action",a),j.setAttribute("enctype",o),e?j.setAttribute("target",e):p.removeAttr("target"),c(i).remove()}}function s(t){if(!b.aborted&&!O){if((I=r(v))||(n("cannot access response document"),t=D),t===S&&b)return b.abort("timeout"),void _.reject(b,"timeout");if(t===D&&b)return b.abort("server abort"),void _.reject(b,"error","server abort");if(I&&I.location.href!==f.iframeSrc||k){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var e,a="success";try{if(k)throw"timeout";var o="xml"===f.dataType||I.XMLDocument||g.isXMLDoc(I);if(n("isXml="+o),!o&&window.opera&&(null===I.body||!I.body.innerHTML)&&--P)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var i=I.body?I.body:I.documentElement;b.responseText=i?i.innerHTML:null,b.responseXML=I.XMLDocument?I.XMLDocument:I,o&&(f.dataType="xml"),b.getResponseHeader=function(t){return{"content-type":f.dataType}[t.toLowerCase()]},i&&(b.status=Number(i.getAttribute("status"))||b.status,b.statusText=i.getAttribute("statusText")||b.statusText);var l=(f.dataType||"").toLowerCase(),c=/(json|script|text)/.test(l);if(c||f.textarea){var u=I.getElementsByTagName("textarea")[0];if(u)b.responseText=u.value,b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText;else if(c){var p=I.getElementsByTagName("pre")[0],m=I.getElementsByTagName("body")[0];p?b.responseText=p.textContent?p.textContent:p.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"===l&&!b.responseXML&&b.responseText&&(b.responseXML=q(b.responseText));try{E=L(b,l,f)}catch(g){a="parsererror",b.error=e=g||a}}catch(g){n("error caught: ",g),a="error",b.error=e=g||a}b.aborted&&(n("upload aborted"),a=null),b.status&&(a=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===a?(f.success&&f.success.call(f.context,E,"success",b),_.resolve(b.responseText,"success",b),d&&g.event.trigger("ajaxSuccess",[b,f])):a&&(void 0===e&&(e=b.statusText),f.error&&f.error.call(f.context,b,a,e),_.reject(b,"error",e),d&&g.event.trigger("ajaxError",[b,f,e])),d&&g.event.trigger("ajaxComplete",[b,f]),d&&!--g.active&&g.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,b,a),O=!0,f.timeout&&clearTimeout(w),setTimeout(function(){f.iframeTarget?h.attr("src",f.iframeSrc):h.remove(),b.responseXML=null},100)}}}var l,c,f,d,m,h,v,b,y,x,k,w,j=p[0],_=t.Deferred();if(_.abort=function(t){b.abort(t)},a)for(c=0;c<g.length;c++)l=t(g[c]),i?l.prop("disabled",!1):l.removeAttr("disabled");(f=t.extend(!0,{},t.ajaxSettings,e)).context=f.context||f,m="jqFormIO"+(new Date).getTime();var M=j.ownerDocument,T=p.closest("body");if(f.iframeTarget?(x=(h=t(f.iframeTarget,M)).attr2("name"))?m=x:h.attr2("name",m):(h=t('<iframe name="'+m+'" src="'+f.iframeSrc+'" />',M)).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=h[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var e="timeout"===t?"timeout":"aborted";n("aborting upload... "+e),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(a){}h.attr("src",f.iframeSrc),b.error=e,f.error&&f.error.call(f.context,b,e,t),d&&a.event.trigger("ajaxError",[b,f,e]),f.complete&&f.complete.call(f.context,b,e)}},(d=f.global)&&0==t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[b,f]),f.beforeSend&&!1===f.beforeSend.call(f.context,b,f))return f.global&&t.active--,_.reject(),_;if(b.aborted)return _.reject(),_;(y=j.clk)&&(x=y.name)&&!y.disabled&&(f.extraData=f.extraData||{},f.extraData[x]=y.value,"image"===y.type&&(f.extraData[x+".x"]=j.clk_x,f.extraData[x+".y"]=j.clk_y));var S=1,D=2,A=t("meta[name=csrf-token]").attr("content"),C=t("meta[name=csrf-param]").attr("content");C&&A&&(f.extraData=f.extraData||{},f.extraData[C]=A),f.forceSync?o():setTimeout(o,10);var E,I,O,P=50,q=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!==e.documentElement.nodeName?e:null},F=t.parseJSON||function(t){return window.eval("("+t+")")},L=function(e,a,n){var r=e.getResponseHeader("content-type")||"",o=("xml"===a||!a)&&r.indexOf("xml")>=0,i=o?e.responseXML:e.responseText;return o&&"parsererror"===i.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(i=n.dataFilter(i,a)),"string"==typeof i&&(("json"===a||!a)&&r.indexOf("json")>=0?i=F(i):("script"===a||!a)&&r.indexOf("javascript")>=0&&t.globalEval(i)),i};return _}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var u,f,d,p=this;"function"==typeof e?e={success:e}:"string"==typeof e||!1===e&&arguments.length>0?(e={url:e,data:a,dataType:r},"function"==typeof s&&(e.success=s)):void 0===e&&(e={}),u=e.method||e.type||this.attr2("method"),(d=(d="string"==typeof(f=e.url||this.attr2("action"))?t.trim(f):"")||window.location.href||"")&&(d=(d.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:d,success:t.ajaxSettings.success,type:u||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var m={};if(this.trigger("form-pre-serialize",[this,e,m]),m.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=e.traditional;void 0===h&&(h=t.ajaxSettings.traditional);var v,g=[],b=this.formToArray(e.semantic,g,e.filtering);if(e.data){var y=t.isFunction(e.data)?e.data(b):e.data;e.extraData=y,v=t.param(y,h)}if(e.beforeSubmit&&!1===e.beforeSubmit(b,this,e))return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[b,this,e,m]),m.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var x=t.param(b,h);v&&(x=x?x+"&"+v:v),"GET"===e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+x,e.data=null):e.data=x;var k=[];if(e.resetForm&&k.push(function(){p.resetForm()}),e.clearForm&&k.push(function(){p.clearForm(e.includeHidden)}),!e.dataType&&e.target){var w=e.success||function(){};k.push(function(a,n,r){var o=arguments,i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](a).each(function(){w.apply(this,o)})})}else e.success&&(t.isArray(e.success)?t.merge(k,e.success):k.push(e.success));if(e.success=function(t,a,n){for(var r=e.context||this,o=0,i=k.length;o<i;o++)k[o].apply(r,[t,a,n||p,p])},e.error){var j=e.error;e.error=function(t,a,n){var r=e.context||this;j.apply(r,[t,a,n,p])}}if(e.complete){var _=e.complete;e.complete=function(t,a){var n=e.context||this;_.apply(n,[t,a,p])}}var M=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}).length>0,T="multipart/form-data",S=p.attr("enctype")===T||p.attr("encoding")===T,D=o.fileapi&&o.formdata;n("fileAPI :"+D);var A,C=(M||S)&&!D;!1!==e.iframe&&(e.iframe||C)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){A=c(b)}):A=c(b):A=(M||S)&&D?function(a){for(var n=new FormData,r=0;r<a.length;r++)n.append(a[r].name,a[r].value);if(e.extraData){var o=l(e.extraData);for(r=0;r<o.length;r++)o[r]&&n.append(o[r][0],o[r][1])}e.data=null;var i=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});e.uploadProgress&&(i.xhr=function(){var a=t.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(t){var a=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(a=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,a)},!1),a}),i.data=null;var s=i.beforeSend;return i.beforeSend=function(t,a){e.formData?a.data=e.formData:a.data=n,s&&s.call(this,t,a)},t.ajax(i)}(b):t.ajax(e),p.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<g.length;E++)g[E]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r,o,i,s){if(("string"==typeof r||!1===r&&arguments.length>0)&&(r={url:r,data:o,dataType:i},"function"==typeof s&&(r.success=s)),r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var l={s:this.selector,c:this.context};return!t.isReady&&l.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(l.s,l.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,a),this):this.ajaxFormUnbind().on("submit.form-plugin",r,e).on("click.form-plugin",r,a)},t.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,a,n){var r=[];if(0===this.length)return r;var i,s=this[0],l=this.attr("id"),c=e||void 0===s.elements?s.getElementsByTagName("*"):s.elements;if(c&&(c=t.makeArray(c)),l&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(i=t(':input[form="'+l+'"]').get()).length&&(c=(c||[]).concat(i)),!c||!c.length)return r;t.isFunction(n)&&(c=t.map(c,n));var u,f,d,p,m,h,v;for(u=0,h=c.length;u<h;u++)if(m=c[u],(d=m.name)&&!m.disabled)if(e&&s.clk&&"image"===m.type)s.clk===m&&(r.push({name:d,value:t(m).val(),type:m.type}),r.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}));else if((p=t.fieldValue(m,!0))&&p.constructor===Array)for(a&&a.push(m),f=0,v=p.length;f<v;f++)r.push({name:d,value:p[f]});else if(o.fileapi&&"file"===m.type){a&&a.push(m);var g=m.files;if(g.length)for(f=0;f<g.length;f++)r.push({name:d,value:g[f],type:m.type});else r.push({name:d,value:"",type:m.type})}else null!==p&&void 0!==p&&(a&&a.push(m),r.push({name:d,value:p,type:m.type,required:m.required}));if(!e&&s.clk){var b=t(s.clk),y=b[0];(d=y.name)&&!y.disabled&&"image"===y.type&&(r.push({name:d,value:b.val()}),r.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}))}return r},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var a=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor===Array)for(var o=0,i=r.length;o<i;o++)a.push({name:n,value:r[o]});else null!==r&&void 0!==r&&a.push({name:this.name,value:r})}}),t.param(a)},t.fn.fieldValue=function(e){for(var a=[],n=0,r=this.length;n<r;n++){var o=this[n],i=t.fieldValue(o,e);null===i||void 0===i||i.constructor===Array&&!i.length||(i.constructor===Array?t.merge(a,i):a.push(i))}return a},t.fieldValue=function(e,a){var n=e.name,o=e.type,i=e.tagName.toLowerCase();if(void 0===a&&(a=!0),a&&(!n||e.disabled||"reset"===o||"button"===o||("checkbox"===o||"radio"===o)&&!e.checked||("submit"===o||"image"===o)&&e.form&&e.form.clk!==e||"select"===i&&-1===e.selectedIndex))return null;if("select"===i){var s=e.selectedIndex;if(s<0)return null;for(var l=[],c=e.options,u="select-one"===o,f=u?s+1:c.length,d=u?s:0;d<f;d++){var p=c[d];if(p.selected&&!p.disabled){var m=p.value;if(m||(m=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),u)return m;l.push(m)}}return l}return t(e).val().replace(r,"\r\n")},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();a.test(n)||"textarea"===r?this.value="":"checkbox"===n||"radio"===n?this.checked=!1:"select"===r?this.selectedIndex=-1:"file"===n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){var e=t(this),a=this.tagName.toLowerCase();switch(a){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var n=e.parents("select");return n.length&&n[0].multiple?"option"===a?this.selected=this.defaultSelected:e.find("option").resetForm():n.resetForm(),!0;case"select":return e.find("option").each(function(t){if(this.selected=this.defaultSelected,this.defaultSelected&&!e[0].multiple)return e[0].selectedIndex=t,!1}),!0;case"label":var r=t(e.attr("for")),o=e.find("input,select,textarea");return r[0]&&o.unshift(r[0]),o.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return e.find("form,input,label,select,textarea").resetForm(),!0}})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var a=this.type;if("checkbox"===a||"radio"===a)this.checked=e;else if("option"===this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"===n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e={options:{},init:function(e,n){var r=this;t(document).off("click",e).on("click",e,n,function(e){e.preventDefault(),r.reset();var n=t(this);r.options=t.extend({},a,e.data);var o=r.options.before(n,e.data.params);t.ajax({url:r.options.path,data:o,method:r.options.method||"post",dataType:r.options.datatype||"html",beforeSend:function(e){t("body").append('<div class="bf-loading"></div>')},success:function(e){r.set_template(),r.set_close_event(),t(".bf-modal, .bf-fixed-overlay").css("opacity","0"),t(".bf-modal-box").html(e),t(".bf-loading").remove(),t(".bf-modal, .bf-fixed-overlay").animate({opacity:"1"},500),r.options.after(n,t(".bf-modal-box"),o)}})})},set_template:function(){var e=this;t('[data-rmodal="wrap"]').remove(),t("body").append(e.options.template)},set_close_event:function(){var e=this;t(document).on("click","[data-rmodal='reset']",function(){e.reset(),e.options.reset()}),t(document).on("click",".bf-modal",function(t){t.stopImmediatePropagation()})},reset:function(){t(".bf-fixed-overlay").remove()}},a={path:"",attributes:{},template:'<div data-rmodal="reset" data-rmodal="wrap"  class="bf-fixed-overlay bf-fixed-overlay__modal">                             <div class="bf-modal">                                 <div class="bf-modal_container">                                     <a href="javascript:;" data-rmodal="reset" class="bf-modal-reset" title=""></a>                                       <div class="bf-modal-box"></div>                                 </div>                             </div>                             <small class="bf-modal-after"></small>                         </div>',before:function(t,e){return e},after:function(t,e,a){},reset:function(t,e){}},n={init:function(t,arguments){return e.init(t,arguments)},reset:function(){e.reset()}};t.rmodal=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):e.length>0?n.init.apply(this,arguments):(t.error('Method "'+e+'" not find'),e)}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e={options:{},init:function(a,n){if(t(document).on("mouseover",".bf-tooltip",function(){t(this).remove()}),n.length>0)e.set({el:a,msg:n}),t(window).on("resize",{el:a,msg:n},e.set);else{var r=a.attr("name")||"";r&&t('[data-bf-tooltip-id="'+r+'"]').remove()}},set:function(a){var n,r;a.data?(n=a.data.el,r=a.data.msg):(n=a.el,r=a.msg);var o=n.attr("name")||n.attr("data-name")||"";if(o.length>0){n=t('[name="'+o+'"]:first',n.parents("form"));var i=n.attr("data-bf-tooltip")||n.parents("form").attr("data-bf-tooltip")||e.options.pos;t('[data-bf-tooltip-id="'+o+'"]').remove(),n.after('<span class="bf-tooltip bf-tooltip-'+i+'" data-bf-tooltip-id="'+o+'">                          <span class="bf-arrow"></span>'+r+"</span>"),e.position(n,i)}},reset:function(){t(window).off("resize",e.set),t(".bf-tooltip").remove()},response:function(e,a,n,r,o,i){var s=this;if(i.css("white-space","nowrap"),i.is('[class*="left"]'))e<=s.options.min_dist_border_window&&(i.css("white-space","normal"),e=s.options.min_dist_border_window,i.hasClass("bf-tooltip-left")&&i.removeClass("bf-tooltip-left").addClass("bf-tooltip-bottom-left"));else{var l=e+n+s.options.min_dist_border_window,c=t(window).outerWidth()-s.options.min_dist_border_window-n;l>t(window).outerWidth()&&(e=c,i.hasClass("bf-tooltip-right")&&i.removeClass("bf-tooltip-right").addClass("bf-tooltip-top-right")),c<=r.left&&(i.css("white-space","normal"),e=r.left)}return{top:a,left:e}},position:function(a,n){var r=this;if(a.length>0){var o=a.offset(),i=a.attr("name")||a.attr("data-name")||"",s=t('[data-bf-tooltip-id="'+i+'"]'),l=a.outerHeight(),c=a.outerWidth(),u=s.outerWidth(),f=s.outerHeight(),d=0,p=0;"top"===n?(d=o.top-f,p=o.left+c/2-u/2):"top-right"==n?(p=o.left+c/6*5,d=parseInt(o.top)-parseInt(f)-r.options.dist_from_item):"top-center"===n?(d=o.top-f,p=o.left+c/2):"top-left"===n?(d=parseInt(o.top)-parseInt(f)-r.options.dist_from_item,p=o.left+c/6-u):"bottom"===n?(d=o.top+l,p=o.left+c/2-u/2):"bottom-left"===n?(d=o.top+l,p=o.left+c/6-u):"bottom-center"===n?(d=o.top+l,p=o.left+c/2):"bottom-right"===n?(d=o.top+l,p=o.left+c/6*5):"left"===n?(d=o.top+l/2-f/2,p=o.left-u):"right"===n&&(d=o.top+l/2-f/2,p=o.left+c),s.offset(e.response(p,d,u,o,c,s))}}},a={min_dist_border_window:20,dist_from_item:5,pos:"top-right"},n={init:function(n){var r=t.extend({},a,n);return e.options=r,this.each(function(){if(void 0!==n){var a=n.msg||"";a.length>0&&e.init(t(this),a)}})},reset:function(){e.reset()}};t.fn.rtooltip=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" not find'):n.init.apply(this,arguments)}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.form.min","jquery.mask.min","jquery.rtooltip","jquery.rmodal"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=window.baseform||{};e=function(){function e(e,a){var n=this,e=e||"",a=a||{};n.defaults={config:"",path:"/rockform/init.php",timer:2e3,fields:{},submit_selector:'[type="submit"], [type="image"], [type="button"]',before_send_form:function(t){},after_send_form:function(t){},before_show_modal:function(){},after_show_modal:function(){},close_modal:function(){}},n.options=t.extend({},n.defaults,a),n.init(e,a)}return e}(),e.prototype.fileupload=function(e){t(document).on("change",".bf-input-file",function(e){var a=t(this),n=a.next("label"),r=n.html(),o="";this.files&&this.files.length>1?o=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(o=e.target.value.split("\\").pop()),o?n.find("span").html(o):n.html(r)})},e.prototype.capcha=function(e){var a=this,n=window.MutationObserver||window.WebKitMutationObserver||"";if(n.length>0){var n=window.MutationObserver||window.WebKitMutationObserver,r=function(e){e.map(function(e){var a=t(e.addedNodes);a.find("img[data-bf-capcha]").click()})},o=new n(r),i={childList:!0,subtree:!0};o.observe(document,i)}var s={init:function(){s.update(),t(document).off("click","img[data-bf-capcha]").on("click","img[data-bf-capcha]",function(){s.update()})},update:function(){t("img[data-bf-capcha]").attr("src",a.options.path+"?type=capcha&u="+Math.random())}};s.init()},e.prototype.mask_fields=function(e){var a="",n={},r={init:function(){t(document).on("focus","[data-bf-mask]",function(){r.set(t(this))}),t("[data-bf-mask]").each(function(){r.set(t(this))})},set:function(t){a=t.data("bf-mask"),n=t.attr("placeholder"),a.length>0&&(("undefined"==typeof n||n.length<1)&&(n=a.replace(/[a-z0-9]+?/gi,"_")),n={placeholder:n},t.mask(a,n))}};r.init()},e.prototype.validation=function(e,a){var n=this,r={init:function(e,a){var o,i;return valid=0,a=a||{},t(".bf-tooltip").rtooltip("reset"),a.mail_to?(t(n.options.submit_selector,e).rtooltip({msg:a.mail_to}),!1):a.filesize?(t(n.options.submit_selector,e).rtooltip({msg:a.filesize}),!1):(t.each(a,function(s,l){o="","token"==s?n.set_attr_form(e,"bf-token",a.token):"filesize"==s||(o=r.set_err_msg(l),i=t('[name="'+s+'"]',e),i.rtooltip({msg:o}),o.length>0&&(valid=1))}),!(parseInt(valid)>0))},set_err_msg:function(e){var a="";return e.required?a=e.required:e.rangelength?a=e.rangelength:e.minlength?a=e.minlength:e.maxlength?a=e.maxlength:t.each(e,function(t,e){if("required"!=t&&"rangelength"!=t&&"minlength"!=t&&"maxlength"!=t)return a=e,
!1}),a}};return r.init(e,a)},e.prototype.set_attr_form=function(t,e,a){t.prepend('<input name="'+e+'" class="bf-attr" type="hidden" value="'+a+'" />')},e.prototype.init=function(e,a){var n=this,r={init:function(e,a){n.capcha(),n.mask_fields();var o="",i="",s="";e.length>0?(o=e,i="form"+e+',form[data-delegate="'+e+'"]'):i="form[data-bf]",r.set_form(i),s=e.length>0?e+":not(form)":"[data-bf]:not(form)";var l={config:n.options.config,timer:n.options.timer,fields:n.options.fields};t.rmodal(s,{path:n.options.path,params:l,before:function(e,a){t(".bf-tooltip").rtooltip("reset"),data=e.data("bf")||"","string"==typeof data&&data.length>0&&(data={config:data});var n=r.get_custom_fields(e);data.fields=data.fields||{},data.fields=t.extend({},data.fields,n),a=t.extend({},a,data);var o={data:a.fields,"bf-config":a.config,timer:a.timer,config:a.config,type:"form"};return o},after:function(t,e,a){var n={};n.fields=a.data||{},n.timer=a.timer||{},n.config=a.config||{};var r=JSON.stringify(n);o.length>0?e.find("form").attr("data-delegate",o):e.find("form").attr("data-bf",r)}})},set_form:function(e,a){a=a||n.options,t(document).off("submit",e).on("submit",e,a,function(e){e.preventDefault();var a=t(this);t(".bf-tooltip").rtooltip("reset"),data=a.data("bf")||"","string"==typeof data&&data.length>0&&(data={config:data}),n.options=t.extend({},n.options,e.data,data);var o=a.formToArray(),i=[];t.each(o,function(t,e){"file"==e.type&&(o[t].size=e.value.size||"",o[t].value=e.value.name||"",i.push(o[t].size))}),t.post(n.options.path,{fields:o,type:"validation","bf-config":n.options.config,filesize:i},function(e){e=e||{},n.validation(a,e)&&(n.set_attr_form(a,"bf-config",n.options.config),t.each(n.options.fields,function(t,e){n.set_attr_form(a,"bf[fields]["+t+"]",e)}),a.ajaxSubmit({beforeSubmit:function(e,a,r){n.options.before_send_form(a),t(n.options.submit_selector,a).prop("disabled",!0)},url:n.options.path,type:"post",dataType:"json",success:r.show_response,error:function(t,e,a){alert("Server: "+e)}})),t(".bf-attr").remove()})})},get_custom_fields:function(e){var a={},n="";return e.length&&t.each(e[0].attributes,function(t,e){n=e.name,/data\-bf\-field/.test(n)&&(n=n.replace(/data\-bf\-field(\-|_)/,""),a[n]=e.value)}),a.page_h1=t("h1:first").text()||"",a.page_url=document.location.href,a},show_response:function(e,a,r,o){var i=t(n.options.submit_selector,o);i.prop("disabled",!1).removeAttr("disabled"),parseInt(e.status)>0?(n.options.after_send_form(o),t.post(n.options.path,{type:"form_success","bf-config":e["bf-config"]},function(e){o.hide(),o.after(e),setTimeout(function(){t.rmodal("reset")},n.options.timer),setTimeout(function(){o.show(),o.clearForm(),t("[data-bf-success]").remove()},n.options.timer+1e3)},"html")):i.rtooltip({msg:e.value})}};r.init(e,a)},t.bf=function(t){var a=this,n=arguments[1]||{};return new e(t,n),a},new e});